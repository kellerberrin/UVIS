@import "material-local";

/*********************************************************************************************
*
*
* Menu Bar Stuff
*
*
************************************************************************************************/

$K-Top-Menu-Background-color: $K-PRIMARY-COLOR-900;
$K-Menu-Background-color: $K-PRIMARY-COLOR-500;
$K-Toolbar-Title-color: $K-ACCENT-COLOR-100;
$K-SearchButton-Active-color: $K-ACCENT-COLOR-100;
$K-SearchButton-Inactive-color: $md-light-blue-500;
$K-Menu-Text-color: white;
$K-Input-Text-Color: white;
$K-Icon-Color: white;
$K-Prompt-Type_color: $K-PRIMARY-COLOR-700;
$K-Prompt-History-Title-Color: lighten($K-ACCENT-COLOR-100, 15%);

#k-drug-toolbar {

  display: block;
  color: $K-Menu-Text-color;
  background-color: $K-Menu-Background-color;
  margin: 0;
  padding: 0;

  & #k-icon-toolbar {

    background-color: $K-Top-Menu-Background-color;
    margin: 0;
    padding: 0;
    height: 3.0em;

    & #k-icon-toolbar-tools {

      margin: 0;
      padding: 0;
      padding-top: 1.0em;
      height: 2.0em;

      & #k-icon-toolbar-title {

        color: $K-Toolbar-Title-color;
        font-weight: 700;
        font-size: 1.5em;

      }

    }

  }

  & #k-search-toolbar {

    @include MaterialBoxShadow(2);
    margin: 0;
    padding: 0;
    height: 5.0em;

    & #k-search-type-toolbar {

      margin: 0;
      padding: 0;
      border: none;
      height: 2em;

      & #k-search-title {

        margin: 0;
        margin-left: 0.75em;
        padding: 0;
        height: 1.5em;

      }

      & #k-md-searchtype {

        border: none;
        margin-left: 0.75em;
        padding: 0;
        height: 1.5em;
        @include MaterialBoxShadow(2);

      }

    }

    & #k-search-text-toolbar {

      margin: 0;
      padding: 0;
      border: none;
      height: 3em;

      // Set the the input text colors.

      & #k-md-searchtext {

        height: 3em;
        margin-left: 0.75em;
        color: $K-Input-Text-Color;

        // Important the material design tag md-text=float
        // expands to a directive with a nested <input> tag
        // To reach this tag we need to specify the (implied) child tag type.
        & input {

          color: $K-Input-Text-Color;

        }

      }

      & #k-md-search {

        position: relative;
        margin-left: 0.75em;
        top: 1.0em;
        background-image: url("/images/icons/search24.svg");
        background-size: 24px 24px;
        background-repeat: no-repeat;
        background-position: center;

        background-color: $K-SearchButton-Inactive-color;

        &.searchActive {
          // Important! this class is set when the endpoints request is active.

          background-color: $K-SearchButton-Active-color;

        }

      }

    }

  }

  & #k-search-prompt-anchor {

    position: relative;

    & #k-search-prompt-container {

      @include MaterialBoxShadow(2);
      position: absolute;
      top: 1em;
      left: 1em;
      width: 20em;
      background-color: white;
      z-index: 9;

      & #k-search-history-list {

        display: none;

        &.historyActive{

          display: block;

        }

        & .k-search-history-title {

          color: $md-black-primary-Text;
          text-align: center;
          padding: 0.3em;
          background-color: $K-Prompt-History-Title-Color;

        }

        & .k-search-history-array {

          @include transition(all 0.25s ease-in-out);

          &:hover {

            @include MaterialBoxShadow(2);
            @include translate(0px, -2px);
            color: $K-SearchButton-Inactive-color;

          }

          & .k-search-history-item {

            position: relative;
            width: 100%;
            text-align: left;
            color: $md-black-primary-Text;
            cursor: pointer;
            padding: 0;
            margin: 0;

            &:hover {

              color: $K-SearchButton-Inactive-color;

            }

            & .k-search-history-type {

              width: 100%;
              color: $K-Prompt-Type_color;
              font-size: 0.7em;
              font-weight: 700;
              padding-left: 0.5em;
              padding-top: 0.1em;
              padding-bottom: 0.0em;

            }

            & .k-search-history-value {

              width: 100%;
              padding-left: 1.5em;
              padding-top: 0em;
              padding-bottom: 0.2em;

            }

          }

        }

      }

      & #k-search-prompt-list {

        display: none;

        &.promptActive{

          display: block;

        }

        & .k-search-prompt-array {

          @include transition(all 0.25s ease-in-out);

          &:hover {

            @include MaterialBoxShadow(2);
            @include translate(0px, -2px);
            color: $K-SearchButton-Inactive-color;

          }

          & .k-search-prompt-item {

            position: relative;
            width: 100%;
            text-align: left;
            color: $md-black-primary-Text;
            cursor: pointer;
            padding: 0;
            margin: 0;

            &:hover {

              color: $K-SearchButton-Inactive-color;

            }

            & .k-search-prompt-type {

              width: 100%;
              color: $K-Prompt-Type_color;
              font-size: 0.7em;
              font-weight: 700;
              padding-left: 0.5em;
              padding-top: 0.1em;
              padding-bottom: 0.0em;

            }

            & .k-search-prompt-value {

              width: 100%;
              padding-left: 1.5em;
              padding-top: 0em;
              padding-bottom: 0.2em;

            }

          }

        }

      }

    }

  }

}

/*********************************************************************************************
*
* Modal Image Dialog - Display a larger drug image (800px) with an option to search for
* drugs with the same image (same drug).
*
***********************************************************************************************/

$K-ImageDialog-dismiss-color: $K-ACCENT-COLOR-100;

#k-image-display-dialog {
  // dialog box

  max-width: 100%;
  margin: 0;
  padding: 0;

  #k-image-title-bar {
    // Search area

    #k-image-attribution {
      // NLM attribution text

      margin-left: 1.5em;
      font-size: 0.7em;

    }

    #k-image-dialog-dismiss {
      // The search button

      position: relative;
      top: -1em;
      left: 1em;
      background-image: url("/images/icons/times.svg");
      background-size: 36px 36px;
      background-repeat: no-repeat;
      background-position: center;
      background-color: $K-ImageDialog-dismiss-color;

    }

  }

  #k-image-dialog-content {
    // image context area

    margin: 0;
    padding: 0;

  }

  #k-image-search-bar {
    // Search area

    #k-image-search-text {

      margin-left: 1em;

    }

    #k-image-search {
      // The search button

      position: relative;
      margin-left: 0.75em;
      top: -1em;
      background-image: url("/images/icons/search24.svg");
      background-size: 24px 24px;
      background-repeat: no-repeat;
      background-position: center;

    }

  }

}

/*********************************************************************************************
*
*
* Modal Wait.
*
***********************************************************************************************
*
*   Put up a modal wait cursor between an endpoint request and response.
*
*   Start by setting display:none to make this hidden.
*   Positioned in relation to the viewport window
*   with position:fixed. Width, height, top and left.
*   Background to 50% white with
*   animation centered, and no-repeating
*
*
*************************************************************************************************/

$K-Wait-Image-Path: "/images/ajax-loader.gif";
$K-Wait-Background-color: $K-PRIMARY-COLOR-900;
$K-Material-Wait-color: $K-ACCENT-COLOR-100;

#k-modal-wait {
  display: none;
  position: fixed;
  z-index: 1000;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  background-color: rgba(255, 255, 255, .3); //white
  background-image: url(#{$K-Wait-Image-Path}); //spinning image
  background-position: 50% 50%; // centered
  background-repeat: no-repeat; // only once

  &.searchactive {
    // Important! this class is set (see above also) when the endpoints request is active.

    display: block;

  }

}

/*********************************************************************************************
*
* Search Page and Footer Stuff
* Footer Stuff (Uses the Compass Mixin).
*
*
************************************************************************************************/

$K-Footer-Background-color: $K-PRIMARY-COLOR-500;
$K-Search-Page-Width: 600px;

@include sticky-footer(1.5em, "#k-search-page", "#k-layout-footer", "#k-search-footer");

#k-search-footer {

  margin: 0;
  text-align: center;
  color: gray;
  background-color: $K-Footer-Background-color;

}

#k-search-page {

  @media only screen and (max-width: $K-Search-Page-Width) {

    width: 100%;

  }

  @media only screen and (min-width: $K-Search-Page-Width) {

    width: $K-Search-Page-Width;

  }

}

/*********************************************************************************************
*
* The Ajax area stuff
*
*
************************************************************************************************/

#k-display-results {

  height: 700px; // Should be done using a media query.
  padding: 0;
  margin: 0;
  background-image: url("/images/ScrollBackground.jpg");
  background-position: center top;
  background-size: 100% auto;

  & #k-search-results {

    height: inherit;

  }

}

/*********************************************************************************************
*
*
* Drug Search Results Container classes.
*
*
************************************************************************************************/

$K-Display-Drug-Background: white;
$K-Display-Drug-Border: darken(white, 30%);

.k-display-drug {

  display: block;
  background-color: $K-Display-Drug-Background;
  border: 1px solid $K-Display-Drug-Border;
  margin-bottom: 2.0em;
  margin-top: 2.0em;

  /*******************************************************************************
  * Display Drug Name
  ********************************************************************************/

  & .k-display-header-bar {

    margin: 0;
    border: none;
    padding: 0;
    background-color: $K-PRIMARY-COLOR-100;
    width: 100%;

    & .k-display-name-search {

      @include transition(all 0.25s ease-in-out);
      position: relative;
      margin-left: -0.75em;
      top: -1em;
      opacity: 0.4;
      background-image: url("/images/icons/search24.svg");
      background-size: 24px 24px;
      background-repeat: no-repeat;
      background-position: center;
      background-color: $K-SearchButton-Inactive-color;

      &.searchactive {
        // Important! this class is set when the endpoints request is active.

        background-color: $K-SearchButton-Active-color;

      }

      &:hover {

        opacity: 1.0;

      }

    }

    & .k-display-drug-name {

      font-size: 1.5em;
      padding: 0.1em;
      border: none;
      margin: 0;
      line-height: 105%;

    }

    & .k-display-labeler-name {

      font-size: 1em;
      padding: 0.1em;
      border: none;
      margin: 0;
      line-height: 105%;
    }

  }

  /*******************************************************************************
  * Display Drug Image and Price Information
  ********************************************************************************/

  & .k-display-image-price {

    margin: 0;
    padding: 0;
    border: none;

    & .k-display-drug-image {

      @include transition(all 0.25s ease-in-out);
      @include MaterialBoxShadow(1);
      margin: 5px;
      padding: 3px;
      display: none;

      &:hover {

        @include translate(0px, -1px);
        @include MaterialBoxShadow(2);

      }

      &.hasimage {

        display: block;

      }

      & .k-display-image-container {

        margin: 0;
        padding: 0;
        border: none;

      }

    }

  }

  /*******************************************************************************
  * Display Active Ingredient
  ********************************************************************************/

  $K-Display-Active-Color: lighten($K-ACCENT-COLOR-100, 15%);
  $K-Display-Active-Selected-Color: lighten($K-ACCENT-COLOR-100, 10%);


  & .k-display-active-ingredients {

    background-color: $K-Display-Active-Color;
    width: 100%;

    & .k-display-active-label {

      height: 2em;

      & .k-display-active-search {
        // Active ingredient search button

        @include transition(all 0.25s ease-in-out);
        position: relative;
        margin-left: -0.75em;
        top: -0.65em;
        opacity: 0.4;
        background-image: url("/images/icons/search24.svg");
        background-size: 24px 24px;
        background-repeat: no-repeat;
        background-position: center;
        background-color: $K-SearchButton-Inactive-color;

        &.searchactive {
          // Important! this class is set when the endpoints request is active.

          background-color: $K-SearchButton-Active-color;

        }

        &.validselection:hover {

          opacity: 1.0;

        }

      }

      & .k-display-active-label-text {
        // Active Ingedient title text

        margin: 0;
        margin-top: 0.1em;
        border: none;
        padding: 0.1em;
        font-size: 1.2em;
        text-align: center;

      }

    }

    & .k-display-ingredient-panel {
      // Container for active ingredients.

      margin: 0;
      padding-bottom: 0.5em;

      & .k-display-ingredient-line {
        // Individual active ingredient line.

        margin-left: 2em;

        & .k-display-ingredient-name {

          background-color: $K-Display-Active-Color;

          & .k-display-ingredient-name-icon {

            opacity: 0;

          }

          &.activeselected{   // Selected for an ingredient search

            background-color: $K-Display-Active-Selected-Color;

            & .k-display-ingredient-name-icon {

              opacity: 0.7;

            }

          }

        }

        & .k-display-ingredient-strength {

          margin-left: 1.0em;
          background-color: $K-Display-Active-Color;

          & .k-display-ingredient-strength-icon {

            opacity: 0;

          }

          &.strengthselected { // Selected for an ingredient search

            background-color: $K-Display-Active-Selected-Color;

            & .k-display-ingredient-strength-icon {

              opacity: 0.7;

            }

          }

        }

      }

    }

  }

  /*******************************************************************************
  * Display Package
  ********************************************************************************/

  & .k-display-package-container {

    width: 100%;

    & .k-display-package-description {

      margin-top: 0.3em;
      margin-bottom: 0.3em;
      margin-left: 2.0em;
      margin-right: 1.0em;
      border: none;
      padding: 0.1em;
      font-size: 0.9em;

    }

  }

  /*******************************************************************************
  * Display NDC
  ********************************************************************************/

  & .k-display-ndc-container {

    margin: 0;
    border: none;
    padding: 0;
    background-color: $K-PRIMARY-COLOR-100;
    width: 100%;

    & .k-display-ndc9-search {

      @include transition(all 0.25s ease-in-out);
      position: relative;
      margin-left: -0.75em;
      top: -1em;
      opacity: 0.4;
      background-image: url("/images/icons/search24.svg");
      background-size: 24px 24px;
      background-repeat: no-repeat;
      background-position: center;
      background-color: $K-SearchButton-Inactive-color;

      &.searchactive {
        // Important! this class is set when the endpoints request is active.

        background-color: $K-SearchButton-Active-color;

      }

      &:hover {

        opacity: 1.0;

      }

    }

    & .k-display-ndc-title {

      font-size: 1.2em;
      padding: 0.1em;
      border: none;
      margin: 0;
      line-height: 105%;

    }

    & .k-display-ndc-value {

      font-size: 1em;
      padding: 0.1em;
      border: none;
      margin: 0;
      line-height: 105%;
    }

  }

}

