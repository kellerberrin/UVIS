@import "material-local";

/*************************************************************************************************************
*
* Global definitions (don't use defaults)
*
*************************************************************************************************************/

* {
  margin: 0;
  padding: 0;
  border: none;
}

* {
  @include box-sizing(border-box);
}

/*****************************************************************************************************************
*
* Menu Bar, search ahead and history
*
******************************************************************************************************************/

$K-Top-Menu-Background-color: $K-PRIMARY-COLOR-900;
$K-Menu-Background-color: $K-PRIMARY-COLOR-500;
$K-Toolbar-Title-color: $K-ACCENT-COLOR-100;
$K-Toolbar-Icon-Background-Color: $md-light-blue-500;
$K-SearchButton-Active-color: $K-ACCENT-COLOR-100;
$K-SearchButton-Inactive-color: $md-light-blue-500;
$K-Menu-Text-color: white;
$K-Input-Text-Color: white;
$K-Input-Border-Color: $K-PRIMARY-COLOR-900;
$K-Input-Active-Border-Color: $K-ACCENT-COLOR-100;
$K-Icon-Color: white;
$K-Prompt-Type-Color: $K-PRIMARY-COLOR-700;
$K-Prompt-History-Title-Color: lighten($K-ACCENT-COLOR-100, 15%);
$K-Prompt-Prompt-Title-Color: $K-PRIMARY-COLOR-100;
$K-History-Item-Active-Color: $K-ACCENT-COLOR-100;
$K-Prompt-Item-Active-Color: $md-light-blue-500;
$K-Search-Prompt-Dismiss-Color: lighten($K-ACCENT-COLOR-100, 15%);
$K-Search-Type-Color: white;
$K-Search-Type-Background-Color: $md-light-blue-500;
$K-Icon-Toolbar-Height: 40px;
$K-Search-Toolbar-Height: 4em;

#k-drug-toolbar {

  @include K-MaterialBoxShadow(2);
  position: relative;
  z-index: 9;
  width: 100%;
  margin: 0;
  padding: 0;
  color: $K-Menu-Text-color;
  background-color: $K-Menu-Background-color;

  & #k-icon-toolbar-tools {

    height: $K-Icon-Toolbar-Height;
    width: 100%;
    background-color: $K-Top-Menu-Background-color;

    & #k-menu-icon-button {

      float: left;
      height: 30px;
      width: 30px;
      margin: 5px 10px 5px 10px;
      background-image: url("/images/icons/white_bars24.svg");
      background-size: 20px 20px;
      background-repeat: no-repeat;
      background-position: center;
      background-color: $K-Toolbar-Icon-Background-Color;

    }

    & #k-icon-toolbar-title {

      float: left;
      color: $K-Toolbar-Title-color;
      font-weight: 700;
      font-size: 1.8em;
      margin: auto 10px;

    }

    & #k-icon-barcode-button {

      float: right;
      height: 30px;
      width: 30px;
      margin: 5px 10px 5px 10px;
      background-image: url("/images/icons/white_barcode24.svg");
      background-size: 20px 20px;
      background-repeat: no-repeat;
      background-position: center;
      background-color: $K-Toolbar-Icon-Background-Color;

    }

    & #k-icon-search-button {
      // Important Note - The right-most button needs to be floated right first.

      float: right;
      height: 30px;
      width: 30px;
      margin: 5px 10px 5px 10px;
      background-image: url("/images/icons/white_search24.svg");
      background-size: 20px 20px;
      background-repeat: no-repeat;
      background-position: center;
      background-color: $K-Toolbar-Icon-Background-Color;

    }

  }

  & #k-search-toolbar {

    font-size: 1.3em;
    height: $K-Search-Toolbar-Height;
    width: 100%;
    background-color: $K-Menu-Background-color;

    & #k-search-type-toolbar {

      width: 100%;
      height: 2em;
      margin: 0.5em 0 0 0.75em;
      padding: 0;

      & #k-search-title {

        float: left;
        height: 1.5em;
        text-align: left;
        margin: 0;
        padding: 0;

      }

      & #k-search-searchtype {

        @include border-radius(4px);
        float: left;
        margin-left: 0.5em;
        height: 1.5em;
        color: $K-Search-Type-Color;
        background-color: $K-Search-Type-Background-Color;
        border: solid 2px $K-Input-Border-Color;
        cursor: pointer;

        &:focus {

          border-color: $K-Input-Active-Border-Color;

        }

        &:hover {

          border-color: $K-Input-Active-Border-Color;

        }

      }

    }

    & #k-search-text-toolbar {

      width: 100%;
      height: 2em;
      margin: 0 0 0 0.75em;
      padding: 0;

      // Set the the input text colors.

      & #k-search-searchtext {

        @include border-radius(4px);
        float: left;
        height: 1.5em;
        width: 14em;
        margin: 0;
        padding: 0 0 0 0.3em;
        color: $K-Input-Text-Color;
        border: solid 2px $K-Input-Border-Color;
        background-color: $K-Search-Type-Background-Color;

        &:focus {

          border-color: $K-Input-Active-Border-Color;

        }

        &:hover {

          border-color: $K-Input-Active-Border-Color;

        }

      }

      & #k-perform-search {

        float: left;
        position: absolute;
        margin: 0 0 0 0.5em;
        top: 2.6em;
        background-image: url("/images/icons/search24.svg");
        background-size: 24px 24px;
        background-repeat: no-repeat;
        background-position: center;
        background-color: $K-SearchButton-Inactive-color;

        &.searchActive {
          // Important! this class is set when the endpoints request is active.

          background-color: $K-SearchButton-Active-color;

        }

      }

    }

  }

  & #k-search-prompt-anchor {

    position: relative;

    & #k-search-prompt-container {

      @include K-MaterialBoxShadow(3);
      @include transition(all 0.25s ease-in-out);
      display: none;
      position: absolute;
      top: 1em;
      left: 1em;
      width: 20em;
      background-color: white;

      &.searchPromptActive {

        display: block;

      }

      & #k-search-prompt-dismiss {

        position: absolute;
        top: -0.3em;
        left: 12em;
        background-image: url("/images/icons/times.svg");
        background-size: 36px 36px;
        background-repeat: no-repeat;
        background-position: center;
        background-color: $K-Search-Prompt-Dismiss-Color;

      }

      & #k-search-prompt-list {

        display: none;

        &.promptActive {

          display: block;

        }

        & #k-search-prompt-title {

          color: $md-black-primary-text;
          text-align: center;
          height: 2em;
          background-color: $K-Prompt-Prompt-Title-Color;
          padding-top: 0.3em;
          padding-bottom: 0.3em;

        }

        & .k-search-prompt-array {

          @include transition(all 0.25s ease-in-out);

          &:hover {

            @include K-MaterialBoxShadow(2);
            @include translate(0px, -2px);
            color: $K-SearchButton-Inactive-color;

          }

          & .k-search-prompt-item {

            position: relative;
            width: 100%;
            text-align: left;
            color: $md-black-primary-text;
            cursor: pointer;
            padding: 0;
            margin: 0;

            &:hover {

              color: $K-Prompt-Item-Active-Color;

            }

            & .k-search-prompt-type {

              width: 100%;
              color: $K-Prompt-Type-Color;
              font-size: 0.7em;
              font-weight: 700;
              padding-left: 0.5em;
              padding-top: 0.1em;
              padding-bottom: 0.0em;

            }

            & .k-search-prompt-value {

              width: 100%;
              padding-left: 1.5em;
              padding-top: 0em;
              padding-bottom: 0.2em;
              text-overflow: ellipsis;
              white-space: nowrap;
              overflow: hidden;

            }

          }

        }

      }

    }

    & #k-search-history-list {

      display: none;

      &.historyActive {

        display: block;

      }

      & #k-search-history-title {

        color: $md-black-primary-text;
        text-align: center;
        padding: 0.3em;
        background-color: $K-Prompt-History-Title-Color;

      }

      & .k-search-history-array {

        @include transition(all 0.25s ease-in-out);

        &:hover {

          @include K-MaterialBoxShadow(2);
          @include translate(0px, -2px);
          color: $K-SearchButton-Inactive-color;

        }

        & .k-search-history-item {

          position: relative;
          width: 100%;
          text-align: left;
          color: $md-black-primary-text;
          cursor: pointer;
          padding: 0;
          margin: 0;

          &:hover {

            color: $K-History-Item-Active-Color;

          }

          & .k-search-history-type {

            width: 100%;
            color: $K-Prompt-Type-Color;
            font-size: 0.7em;
            font-weight: 700;
            padding-left: 0.5em;
            padding-top: 0.1em;
            padding-bottom: 0.0em;

          }

          & .k-search-history-value {

            width: 100%;
            padding-left: 1.5em;
            padding-top: 0;
            padding-bottom: 0.2em;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;

          }

        }

      }

    }

  }

}

/*********************************************************************************************
*
* Modal Image Dialog - Display a larger drug image (800px) with an option to search for
* drugs with the same image (same drug).
*
***********************************************************************************************/

$K-ImageDialog-Search-Inactive-color: $md-light-blue-500;

#k-image-display-dialog {
  // dialog box

  height: 100%;
  width: 100%;
  padding: 10px;
  margin: 0;

  #k-image-attribution {
    // NLM attribution text

    margin-left: 1.5em;
    font-size: 0.7em;

  }

  #k-image-dialog-content {
    // image context area

    overflow: auto;
    margin: 0;
    padding: 0;

    #k-dialog-image {

      width: 100%;
      height: 100%;

    }

  }

  #k-image-search-bar {

    display: inline-block; /* older browsers */
    @include display-flex(inline-flex);
    position: relative;
    margin: 0;
    padding: 0;

    #k-image-search-text {

      margin: 0 1em 0 1em;
      padding: 0;

    }

    #k-image-search {
      // The search button

      position: absolute;
      top: -0.7em;
      right: -2em;
      background-image: url("/images/icons/search24.svg");
      background-size: 24px 24px;
      background-repeat: no-repeat;
      background-position: center;
      background-color: $K-ImageDialog-Search-Inactive-color;

    }

  }

}

/*********************************************************************************************
*
* Modal Search Dialog - Verify user input
*
***********************************************************************************************/

$K-Search-Confirm-Color: $md-green-500;
$K-Search-Modify-Color: $md-red-500;

#k-search-dialog-content {

  #k-search-dialog-heading {

    width: 100%;
    padding: 0 2rem 0 2rem;
    font-size: 1.2em;
    margin: 2rem 0 2rem 0;
    color: $md-black-display-text;

  }

  #k-search-dialog-text {

    width: 100%;
    padding: 0 2rem 0 1.5rem;
    font-size: 1em;
    margin: 0 0 2rem 0;
    color: $md-black-primary-text;

  }

  #k-search-dialog-actions {

    @include display-flex;
    @include flex-direction(row);
    @include justify-content(flex-end);
    width: 100%;
    padding: 0.5rem;

    #k-search-dialog-confirm {

      padding: 0.4em;
      margin: 0 1rem 0 0;
      background-color: $K-Search-Confirm-Color;

    }

    #k-search-dialog-modify {

      padding: 0.4em;
      margin: 0 1rem 0 0;
      background-color: $K-Search-Modify-Color;

    }

  }

}


/*********************************************************************************************
*
* Modal Error Dialog
*
***********************************************************************************************/


#k-error-dialog-content {

  #k-error-dialog-heading {

    width: 100%;
    padding: 0 2rem 0 2rem;
    font-size: 1.2em;
    margin: 2rem 0 2rem 0;
    color: $md-black-display-text;

  }

  #k-error-dialog-status {

    width: 100%;
    padding: 0 2rem 0 1.5rem;
    font-size: 1.2em;
    margin: 2rem 0 1rem 0;
    color: $md-black-primary-text;

  }

  #k-error-dialog-text {

    width: 100%;
    padding: 0 2rem 0 1.5rem;
    font-size: 1em;
    margin: 0 0 1rem 0;
    color: $md-black-primary-text;

  }

  #k-error-dialog-action {

    width: 100%;
    padding: 0 2rem 0 1.5rem;
    font-size: 1em;
    margin: 0 0 1rem 0;
    color: $md-black-primary-text;

  }


}


/*********************************************************************************************
*
* Modal Wait.
*
***********************************************************************************************
*
*   Put up a modal wait cursor between an endpoint request and response.
*
*   Start by setting display:none to make this hidden.
*   Positioned in relation to the viewport window
*   with position:fixed. Width, height, top and left.
*   Background to 30% white with
*   animation centered, and no-repeating
*
*************************************************************************************************/

$K-Wait-Image-Path: "/images/ajax-loader.gif";
$K-Wait-Background-color: $K-PRIMARY-COLOR-900;
$K-Material-Wait-color: $K-ACCENT-COLOR-100;

#k-modal-wait {
  display: none;
  position: fixed;
  z-index: 1000;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  background-color: rgba(255, 255, 255, .3); //white
  background-image: url(#{$K-Wait-Image-Path}); //spinning image
  background-position: 50% 50%; // centered
  background-repeat: no-repeat; // only once

  &.searchactive {
    // Important! this class is set (see above also) when the endpoints request is active.

    display: block;

  }

}

/************************************************************************************************************
*
* Top Level Search Page (index.html) and Footer Stuff
*
************************************************************************************************************/

$K-Footer-Background-color: $K-PRIMARY-COLOR-500;
$K-Search-Page-Width: 600px;
$K-Footer-Height: 1.4em;

#k-total-page-width {

  width: 100%;

}

#k-search-page {

  display: block;
  margin-left: auto;
  margin-right: auto;

  @media only screen and (max-width: $K-Search-Page-Width) {

    width: 100%;

  }

  @media only screen and (min-width: $K-Search-Page-Width) {

    width: $K-Search-Page-Width;

  }

  & #k-include-drug-header {

    margin: 0;
    padding: 0;
    border: none;
    width: 100%;

  }

  & #k-include-display-results {

    margin: 0;
    padding: 0;
    border: none;
    width: 100%;
  }

  & #k-search-footer {

    margin: 0;
    padding: 0;
    width: 100%;
    height: $K-Footer-Height;
    text-align: center;
    color: gray;
    background-color: $K-Footer-Background-color;

  }

}

/***************************************************************************************************************
*
* The search result display area, including background.
*
****************************************************************************************************************/

$K-Minimum-Search-Page-Height: 700px;
$K-Base-1EM-Pixel-Font-Size: 16;
//$K-Header-Footer-Height: $K-Footer-Height (em) + $K-Top-Ion-Toolbar-Height (px) + $K-Search-Toolbar-Height (em) (approx) 106px
$K-Header-Footer-Height: 50;
$K-Total-Page-Height: ($K-Minimum-Search-Page-Height + $K-Header-Footer-Height);

#k-search-results {

  @media only screen and (max-height: $K-Total-Page-Height) {
    // <= $K-Search-Page-Height

    height: $K-Minimum-Search-Page-Height; // Minimum search page height.

  }

  @media only screen and (min-height: $K-Total-Page-Height) {
    // >= $K-Search-Page-Height

    height: ($K-Minimum-Search-Page-Height + $K-Header-Footer-Height); // Expanded search page height

  }

  width: 100%;
  padding: 0;
  margin: 0;
  border: none;
  overflow-y: scroll;
  background-image: url("/images/ScrollBackground.jpg");
  background-position: center top;
  background-size: 100% auto;

}

/**************************************************************************************************************
*
*
* Drug Search Results Container classes.
*
*
**************************************************************************************************************/

$K-Display-Drug-Background: white;
$K-Display-Drug-Border: darken(white, 30%);
$K-Display-Name-Background: $K-PRIMARY-COLOR-100;
$K-Display-Image-Price-Background: white;
$K-Display-Active-Color: lighten($K-ACCENT-COLOR-100, 15%);
$K-Display-Active-Selected-Color: lighten($K-ACCENT-COLOR-100, 10%);
$K-Display-Package-Background: white;
$K-Display-NDC-Background: $K-PRIMARY-COLOR-100;
$K-Display-NDC-Title-Color: $K-PRIMARY-COLOR-700;

.k-display-drug {

  @include K-MaterialBoxShadow(2);
  display: block;
  background-color: $K-Display-Drug-Background;
  border: 1px solid $K-Display-Drug-Border;
  margin: 2em 1em 2em 1em;

  /*******************************************************************************
  * Display Drug Name
  ********************************************************************************/

  & .k-display-header-bar {

    position: relative;
    margin: 0;
    border: none;
    padding: 0;
    background-color: $K-Display-Name-Background;
    width: 100%;

    & .k-display-name-search {

      @include transition(all 0.25s ease-in-out);
      position: absolute;
      left: -0.75em;
      top: -1em;
      opacity: 0.4;
      background-image: url("/images/icons/search24.svg");
      background-size: 24px 24px;
      background-repeat: no-repeat;
      background-position: center;
      background-color: $K-SearchButton-Inactive-color;

      &.searchactive {
        // Important! this class is set when the endpoints request is active.

        background-color: $K-SearchButton-Active-color;

      }

      &:hover {

        opacity: 1.0;

      }

    }

    & .k-display-drug-name {

      font-size: 1.5em;
      padding: 0.1em 1rem 0.1em 2.5rem;
      border: none;
      margin: 0;
      line-height: 105%;

    }

    & .k-display-labeler-name {

      font-size: 1em;
      padding: 0.1em 1rem 0.1em 2.5em;
      border: none;
      margin: 0;
      line-height: 105%;
    }

  }

  /*******************************************************************************
  * Display Drug Image and Price Information
  ********************************************************************************/

  & .k-display-image-price {

    position: relative;
    display: flex;
    width: 100%;
    margin: 0;
    padding: 0;
    border: none;
    background-color: $K-Display-Image-Price-Background;

    & .k-display-drug-image {

      @include transition(all 0.25s ease-in-out);
      @include K-MaterialBoxShadow(1);
      display: none;
      margin: 5px;
      cursor: pointer;

      &:hover {

        @include translate(0px, -1px);
        @include K-MaterialBoxShadow(2);

      }

      &.hasimage {

        display: block;

      }

      & .k-display-small-image {

        float: left;
        margin: 3px;

      }

    }

  }

  /*******************************************************************************
  * Display Active Ingredient
  ********************************************************************************/

  & .k-display-active-ingredients {

    display: none;
    position: relative;
    background-color: $K-Display-Active-Color;
    width: 100%;

    &.hasactive {

      display: block;

    }

    & .k-display-active-label {

      height: 2em;

      & .k-display-active-search {
        // Active ingredient search button

        @include transition(all 0.25s ease-in-out);
        position: absolute;
        margin-left: -0.75em;
        top: -0.65em;
        opacity: 0;
        background-image: url("/images/icons/search24.svg");
        background-size: 24px 24px;
        background-repeat: no-repeat;
        background-position: center;
        background-color: $K-SearchButton-Inactive-color;

        &.validselection {

          opacity: 0.4;

        }

        &.searchactive {
          // Important! this class is set when the endpoints request is active.

          background-color: $K-SearchButton-Active-color;

        }

        &:hover {

          opacity: 1.0;

        }

      }

      & .k-display-active-label-text {
        // Active Ingedient title text

        width: 100%;
        margin: 0;
        border: none;
        padding: 0.1em 1rem 0.1em 2.5rem;
        font-size: 1.2em;

      }

    }

    & .k-display-ingredient-panel {
      // Container for active ingredients.

      width: 100%;
      margin: 0;
      padding-bottom: 0.5em;

      & .k-display-ingredient-line {
        // Individual active ingredient line.

        width: 100%;

        & .k-display-ingredient-name {

          float: left;
          max-width: 75%;
          margin: 0.2em 0 0 2.3rem;
          padding: 0.2em 0.2em 0.2em 0.2rem;
          background-color: $K-Display-Active-Color;

          & .k-display-ingredient-name-icon {

            opacity: 0;

          }

          &.activeselected {
            // Selected for an ingredient search

            background-color: $K-Display-Active-Selected-Color;

            & .k-display-ingredient-name-icon {

              opacity: 0.7;

            }

          }

        }

        & .k-display-ingredient-strength {

          float: left;
          max-width: 35%;
          margin: 0.2em 0 0 0.8rem;
          padding: 0.2em 0 0.2em 0.2rem;
          background-color: $K-Display-Active-Color;

          & .k-display-ingredient-strength-icon {

            opacity: 0;

          }

          &.strengthselected {
            // Selected for an ingredient search

            background-color: $K-Display-Active-Selected-Color;

            & .k-display-ingredient-strength-icon {

              opacity: 0.7;

            }

          }

        }

      }

    }

  }

  /*******************************************************************************
  * Display Package
  ********************************************************************************/

  & .k-display-package-container {

    width: 100%;
    background-color: $K-Display-Package-Background;

    & .k-display-package-description {

      padding: 0.3em 1.0rem 0.3em 2.5rem;
      border: none;
      margin: 0;
      font-size: 0.9em;

    }

  }

  /*******************************************************************************
  * Display NDC
  ********************************************************************************/

  & .k-display-ndc-container {

    position: relative;
    margin: 0;
    border: none;
    padding: 0;
    background-color: $K-Display-NDC-Background;
    width: 100%;

    & .k-display-ndc9-search {

      @include transition(all 0.25s ease-in-out);
      position: absolute;
      margin-left: -0.75em;
      top: -1em;
      opacity: 0.4;
      background-image: url("/images/icons/search24.svg");
      background-size: 24px 24px;
      background-repeat: no-repeat;
      background-position: center;
      background-color: $K-SearchButton-Inactive-color;

      &.searchactive {
        // Important! this class is set when the endpoints request is active.

        background-color: $K-SearchButton-Active-color;

      }

      &:hover {

        opacity: 1.0;

      }

    }

    & .k-display-ndc-title {

      font-size: 1.2em;
      padding: 0.1em 1rem 0.1em 2.5rem;
      border: none;
      margin: 0;
      line-height: 105%;

    }

    & .k-display-ndc-codes {

      display: inline-block; /* non-flexbox browsers */
      @include display-flex(inline-flex);
      @include align-items(center);
      @include justify-content(flex-start);
      @include flex-wrap(wrap);
      margin-left: 2.5rem;

      & .k-display-ndc {

        @include display-flex;
        @include flex-direction(column);
        @include align-items(flex-start);
        margin-right: 1em;

        & .k-display-ndc-title {

          color: $K-Display-NDC-Title-Color;
          font-size: 0.7em;
          font-weight: 700;
          padding: 0.1em 0 0.1em 0;
          border: none;
          margin: 0;

        }

        & .k-display-ndc-value {

          font-size: 1em;
          padding: 0.1em 0 0.1em 0;
          border: none;
          margin: 0;
          line-height: 105%;

          & .k-display-ndc-format {

            font-size: 0.7em;

          }

        }

      }

      & .k-display-ndc11 {

        @include display-flex;
        @include flex-direction(column);
        @include align-items(flex-start);

        & .k-display-ndc11-title {

          color: $K-Display-NDC-Title-Color;
          font-size: 0.7em;
          font-weight: 700;
          padding: 0.1em 0 0.1em 0;
          border: none;
          margin: 0;

          & .k-display-ndc11-package {

            font-weight: 500;

          }

        }

        & .k-display-ndc11-value {

          font-size: 1.0em;
          padding: 0.1em 0 0.1em 0;
          border: none;
          margin: 0;
          line-height: 105%;

          & .k-display-ndc11-ndc9 {

            font-weight: 700;

          }

          & .k-display-ndc11-format {

            font-size: 0.7em;

          }

        }

      }

    }

  }

}

